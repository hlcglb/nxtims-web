<script type="text/javascript">
(function(){
    'use strict';
    angular.module("programModule")
    .controller("searchController",["$state", "Authentication", "constants", "$kWindow", "$cookies", "Login.CookieKey", "$timeout",
                                    function($state, Authentication, constants, $kWindow, $cookies, CookieKey, $timeout) {
           
            var self = this;
            self.buttonDisabled = false; //button diabled
            self.search = function(){
                var windowInstance = $kWindow.open({
                    options:{
                        modal: true,
                        title: "search item",
                        resizable: true,
                        height: 800,
                        width: 500,
                        visible: false
                    },
                    windowTemplateUrl: constants.popTemplUrl + "window.html",
                    templateUrl: constants.popTemplUrl + "SearchPopup.html",
                    controller: ["$scope", "$windowInstance", "item", function($scope, $windowInstance, item){
                        $scope.item = $("#search").val();
                        $scope.$windowInstance = $windowInstance;
                        console.log(item);
                    }],
                    resolve: {
                        item : function () {
                            return "search item"
                        }
                    }
                });
                windowInstance.result.then(function (result) {
                    if (result) {
                        self.result = "confirmed!";
                    }
                    else{
                        self.result = "canceled!";
                    }
                });
            };
            
        }])
    
})();
</script>
<div id="program" dynamic-controller="searchController as vm">
 
    <div class="poptest" >
    <input type="text" id="search" />
    <button type="button" id="btn_search" ng-click="vm.search()" >버튼</button>
    </div>
        
</div>


